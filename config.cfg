#
# Proxmox Load Balancer - Konfigürasyon Dosyası
#

# ============================================
# NODE AYARLARI
# ============================================

# Cluster'daki node'lar (boşlukla ayrılmış)
NODES="VMP2 VMP3 VMP4"

# Tercih edilen node (storage sunucusu vb.)
PREFERRED_NODE="VMP4"

# ============================================
# DENGELEME AYARLARI
# ============================================

# Dengeleme eşiği (yüzde)
# Node'lar arası fark bu değeri aşarsa dengeleme yapılır
THRESHOLD=15

# Maksimum migration sayısı (tek çalışmada)
MAX_MIGRATIONS=5

# Migration bekleme süresi (saniye)
MIGRATION_WAIT=120

# ============================================
# HARİÇ TUTULAN VM'LER
# ============================================

# Bu VM'ler taşınmayacak (VMID'ler)
# Örnek: USB passthrough, özel donanım gerektiren VM'ler
EXCLUDED_VMS=(
    500     # OLYMPOS - USB CodeMeter dongle
    # 100   # Örnek: Başka bir sabit VM
)

# ============================================
# LOG AYARLARI
# ============================================

# Log dosyası yolu
LOG_FILE="/var/log/proxmox-loadbalancer.log"

# Log seviyesi: DEBUG, INFO, WARN, ERROR
LOG_LEVEL="INFO"

# ============================================
# ZAMANLAMA AYARLARI (Cron için)
# ============================================

# Önerilen cron zamanlaması:
# Her 6 saatte bir: 0 */6 * * * /opt/proxmox-loadbalancer/proxmox-loadbalancer.sh balance
# Her gece 02:00'de: 0 2 * * * /opt/proxmox-loadbalancer/proxmox-loadbalancer.sh balance

# ============================================
# GELİŞMİŞ AYARLAR
# ============================================

# Minimum VM boyutu (migration için, bytes)
# Çok küçük VM'leri taşımamak için
MIN_VM_SIZE=1073741824  # 1GB

# CPU dengeleme aktif mi?
BALANCE_CPU=false

# CPU dengeleme eşiği (yüzde)
CPU_THRESHOLD=30
